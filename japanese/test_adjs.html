<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Japanese Translation Practice: Adjectives</title>
<script type="text/javascript" src="../page.js"></script>
<style type="text/css">
textarea#input {
    box-sizing: border-box;
    width: 100%;
    height: 3em;
    padding: 0.2em;
}
</style>
<script type="text/javascript">
genericPageSetup.extra_menu_buttons = [['up_button', 'Back to overview', 'location.href="index.html"']];

adjectivesEnJp = new Array(
    "big",          "ookii",
    "expensive",    "takai",
    "good",         "ii",
    "new",          "atarashii",
    "small",        "chiisai",
    "cheap",        "yasui",
    "bad",          "warui",
    "old",          "furui",
    "interesting",  "omoshiroi",
    "difficult",    "muzukashii",
    "far",          "tooi",
    "tasty",        "oishii",
    "busy",         "isogashii",
    "boring",       "tsumaranai",
    "easy",         "yasashii",
    "near",         "chikai",
    "cold",         "samui",
    "hot",          "atsui",
    "enjoyable",    "tanoshii",
    "terrific, terrible", "sugoi",
    "magnificent",  "subarashii",

    "liked",        "suki",
    "pretty",       "kirei",
    "quiet",        "shizuka",
    "famous",       "yuumei",
    "kind",         "shinsetsu",
    "free",         "hima",
    "lively",       "nigiyaka",
    "convenient",   "benri",
    "healthy",      "genki",
    "comfortable",  "kiraku"
);

var permd_indices = new Array(adjectivesEnJp.length/2);
for (var i = 0; i < permd_indices.length; i++) permd_indices[i] = i;

function permute()
{
    var i,j,t;
    j = Math.floor(Math.random() * (permd_indices.length - 1));
    t = permd_indices[0];
    permd_indices[0] = permd_indices[j];
    permd_indices[j] = t;
    for (i = 1; i < permd_indices.length - 1; i++) {
        j = Math.floor(Math.random() * (permd_indices.length - i)) + i;
        t = permd_indices[i];
        permd_indices[i] = permd_indices[j];
        permd_indices[j] = t;
    }
}

permute();
var permindex = 0;

var output = "";
var result = "";

function create_new()
{
    document.getElementById('do_key').innerHTML = "Check it!";
    document.getElementById('input').value = "";
    document.getElementById('input').focus();
    if (permindex >= permd_indices.length) {
        permute();
        permindex = 0;
    }
    var adjectiveindex = permd_indices[permindex++];

    if (Math.random() < 1 /* always true */) {
        output = "Translate the following into Japanese:<br>" + adjectivesEnJp[2*adjectiveindex];
        result = adjectivesEnJp[2*adjectiveindex + 1];
    } else {
        output = "Translate the following into English:<br>" + adjectivesEnJp[2*adjectiveindex + 1];
        result = adjectivesEnJp[2*adjectiveindex];
    }
    document.getElementById('output').innerHTML = output;
}

function eval_input()
{
    if (document.getElementById('do_key').innerHTML == "Next") {
        create_new();
    } else {
        var s = document.getElementById('input').value.toLowerCase().replace(/[^a-z]/g,"");
        if (s == result.toLowerCase().replace(/[^a-z]/g,"")) {
            output += "<br><br>Correct!";
        } else {
            output += "<br><br>Wrong! The correct answer is:<br>" + result;
        }
        document.getElementById('output').innerHTML = output;
        document.getElementById('do_key').innerHTML = "Next";
    }
}

function init()
{
    create_new();
}

window.addEventListener('load', init, false);
</script>
</head>

<body>

<div class="hcontainer">

<h1>Japanese Translation Practice:<br>Adjectives</h1>

<div class="box">

<h2>Task</h2>
<div id="output"></div>

<h2>Your input</h2>
<textarea id="input"></textarea>

<button type="button" id="do_key" onClick="eval_input()">Check it!</button>

</div>

</div>

</body>
</html>
